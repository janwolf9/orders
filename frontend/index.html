<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Web App - E-commerce Platform</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-brand">
                <h2>E-Shop</h2>
            </div>
            <div class="nav-menu">
                <a href="#" class="nav-link" onclick="showSection('dashboard')">Dashboard</a>
                <a href="#" class="nav-link" onclick="showSection('products')">Products</a>
                <a href="#" class="nav-link" onclick="showSection('orders')">Orders</a>
                <a href="#" class="nav-link" onclick="showSection('reviews')">Reviews</a>
                <div class="nav-cart" id="navCart" style="display: none;">
                    <a href="#" class="nav-link cart-link" onclick="showSection('cart')">
                        <i class="fas fa-shopping-cart"></i>
                        <span id="cartCount" class="cart-count">0</span>
                    </a>
                </div>
                <button id="themeToggle" class="theme-toggle" onclick="toggleTheme()" title="Toggle theme">
                    <i class="fas fa-moon"></i>
                </button>
                <div class="nav-user" id="navUser" style="display: none;">
                    <span id="navUsername"></span>
                    <button onclick="logout()" class="btn btn-secondary">Logout</button>
                </div>
                <div class="nav-auth" id="navAuth">
                    <button onclick="showSection('login')" class="btn btn-primary">Login</button>
                    <button onclick="showSection('register')" class="btn btn-secondary">Register</button>
                </div>
            </div>
        </div>
    </nav>

    <div class="container">
        <!-- Login Section -->
        <section id="login" class="section active">
            <div class="form-container">
                <h2>Login</h2>
                <form id="loginForm">
                    <div class="form-group">
                        <label for="loginEmail">Email:</label>
                        <input type="email" id="loginEmail" required>
                    </div>
                    <div class="form-group">
                        <label for="loginPassword">Password:</label>
                        <input type="password" id="loginPassword" required>
                    </div>
                    <button type="submit" class="btn btn-primary">Login</button>
                </form>
                <p>Don't have an account? <a href="#" onclick="showSection('register')">Register here</a></p>
            </div>
        </section>

        <!-- Register Section -->
        <section id="register" class="section">
            <div class="form-container">
                <h2>Register</h2>
                <form id="registerForm">
                    <div class="form-group">
                        <label for="registerFirstName">First Name:</label>
                        <input type="text" id="registerFirstName" name="firstName" required>
                    </div>
                    <div class="form-group">
                        <label for="registerLastName">Last Name:</label>
                        <input type="text" id="registerLastName" name="lastName" required>
                    </div>
                    <div class="form-group">
                        <label for="registerUsername">Username:</label>
                        <input type="text" id="registerUsername" name="username" required>
                    </div>
                    <div class="form-group">
                        <label for="registerEmail">Email:</label>
                        <input type="email" id="registerEmail" name="email" required>
                    </div>
                    <div class="form-group">
                        <label for="registerPassword">Password:</label>
                        <input type="password" id="registerPassword" name="password" required>
                    </div>
                    <button type="submit" class="btn btn-primary">Register</button>
                </form>
                <p>Already have an account? <a href="#" onclick="showSection('login')">Login here</a></p>
            </div>
        </section>

        <!-- Dashboard Section -->
        <section id="dashboard" class="section">
            <h2>Dashboard</h2>
            <div class="dashboard-grid">
                <div class="dashboard-card">
                    <i class="fas fa-box"></i>
                    <h3 id="totalProducts">0</h3>
                    <p>Products</p>
                </div>
                <div class="dashboard-card">
                    <i class="fas fa-shopping-cart"></i>
                    <h3 id="totalOrders">0</h3>
                    <p>Orders</p>
                </div>
                <div class="dashboard-card">
                    <i class="fas fa-star"></i>
                    <h3 id="totalReviews">0</h3>
                    <p>Reviews</p>
                </div>
                <div class="dashboard-card">
                    <i class="fas fa-users"></i>
                    <h3 id="totalUsers">0</h3>
                    <p>Users</p>
                </div>
            </div>
        </section>

        <!-- Products Section -->
        <section id="products" class="section">
            <div class="section-header">
                <h2>Products</h2>
                <button onclick="showProductModal()" class="btn btn-primary">Add Product</button>
            </div>
            
            <!-- Search and Filters -->
            <div class="filters">
                <input type="text" id="searchProducts" placeholder="Search products..." onkeyup="searchProducts()">
                <select id="categoryFilter" onchange="filterProducts()">
                    <option value="">All Categories</option>
                    <option value="electronics">Electronics</option>
                    <option value="clothing">Clothing</option>
                    <option value="books">Books</option>
                    <option value="home">Home</option>
                    <option value="sports">Sports</option>
                    <option value="health">Health</option>
                    <option value="food">Food</option>
                    <option value="other">Other</option>
                </select>
                <select id="priceSort" onchange="sortProducts()">
                    <option value="">Sort by Price</option>
                    <option value="asc">Price: Low to High</option>
                    <option value="desc">Price: High to Low</option>
                </select>
            </div>

            <div id="productsGrid" class="products-grid"></div>
            <div id="productsPagination" class="pagination"></div>
        </section>

        <!-- Orders Section -->
        <section id="orders" class="section">
            <div class="section-header">
                <h2>Orders</h2>
                <button onclick="showOrderModal()" class="btn btn-primary">Create Order</button>
            </div>
            
            <div class="filters">
                <select id="statusFilter" onchange="filterOrders()">
                    <option value="">All Status</option>
                    <option value="pending">Pending</option>
                    <option value="confirmed">Confirmed</option>
                    <option value="processing">Processing</option>
                    <option value="shipped">Shipped</option>
                    <option value="delivered">Delivered</option>
                    <option value="cancelled">Cancelled</option>
                </select>
            </div>

            <div id="ordersTable"></div>
            <div id="ordersPagination" class="pagination"></div>
        </section>

        <!-- Reviews Section -->
        <section id="reviews" class="section">
            <div class="section-header">
                <h2>Reviews</h2>
                <button onclick="showReviewModal()" class="btn btn-primary">Add Review</button>
            </div>
            <div id="reviewsContainer"></div>
            <div id="reviewsPagination" class="pagination"></div>
        </section>

        <!-- Cart Section -->
        <section id="cart" class="section">
            <div class="section-header">
                <h2>Shopping Cart</h2>
                <button onclick="clearCart()" class="btn btn-danger" id="clearCartBtn" style="display: none;">Clear Cart</button>
            </div>
            
            <div id="cartContainer">
                <div id="cartItems"></div>
                <div id="cartSummary" class="cart-summary" style="display: none;">
                    <div class="summary-row">
                        <span>Total Items:</span>
                        <span id="summaryTotalItems">0</span>
                    </div>
                    <div class="summary-row total-row">
                        <span>Total Amount:</span>
                        <span id="summaryTotalAmount">€0.00</span>
                    </div>
                    <div class="cart-actions">
                        <button onclick="showCheckoutModal()" class="btn btn-primary btn-large">Checkout</button>
                        <button onclick="showSection('products')" class="btn btn-secondary">Continue Shopping</button>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- Product Modal -->
    <div id="productModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeProductModal()">&times;</span>
            <h2 id="productModalTitle">Add Product</h2>
            <form id="productForm">
                <input type="hidden" id="productId">
                <div class="form-group">
                    <label for="productName">Name:</label>
                    <input type="text" id="productName" required>
                </div>
                <div class="form-group">
                    <label for="productDescription">Description:</label>
                    <textarea id="productDescription" required></textarea>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="productPrice">Price:</label>
                        <input type="number" id="productPrice" step="0.01" required>
                    </div>
                    <div class="form-group">
                        <label for="productStock">Stock:</label>
                        <input type="number" id="productStock" required>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="productCategory">Category:</label>
                        <select id="productCategory" required>
                            <option value="">Select Category</option>
                            <option value="electronics">Electronics</option>
                            <option value="clothing">Clothing</option>
                            <option value="books">Books</option>
                            <option value="home">Home</option>
                            <option value="sports">Sports</option>
                            <option value="health">Health</option>
                            <option value="food">Food</option>
                            <option value="other">Other</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="productBrand">Brand:</label>
                        <input type="text" id="productBrand" required>
                    </div>
                </div>
                <div class="form-group">
                    <label for="productImages">Images:</label>
                    <input type="file" id="productImages" multiple accept="image/*">
                </div>
                <div class="form-group">
                    <label for="productTags">Tags (comma separated):</label>
                    <input type="text" id="productTags" placeholder="tag1, tag2, tag3">
                </div>
                <button type="submit" class="btn btn-primary">Save Product</button>
            </form>
        </div>
    </div>

    <!-- Order Modal -->
    <div id="orderModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeOrderModal()">&times;</span>
            <h2>Create Order</h2>
            <form id="orderForm">
                <div class="form-group">
                    <label>Select Products:</label>
                    <div id="orderProducts"></div>
                </div>
                
                <h3>Shipping Address</h3>
                <div class="form-row">
                    <div class="form-group">
                        <label for="shippingStreet">Street:</label>
                        <input type="text" id="shippingStreet" required>
                    </div>
                    <div class="form-group">
                        <label for="shippingCity">City:</label>
                        <input type="text" id="shippingCity" required>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="shippingPostal">Postal Code:</label>
                        <input type="text" id="shippingPostal" required>
                    </div>
                    <div class="form-group">
                        <label for="shippingCountry">Country:</label>
                        <input type="text" id="shippingCountry" required>
                    </div>
                </div>

                <h3>Billing Address</h3>
                <label>
                    <input type="checkbox" id="sameAsShipping" onchange="toggleBillingAddress()">
                    Same as shipping address
                </label>
                <div id="billingAddressFields">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="billingStreet">Street:</label>
                            <input type="text" id="billingStreet" required>
                        </div>
                        <div class="form-group">
                            <label for="billingCity">City:</label>
                            <input type="text" id="billingCity" required>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="billingPostal">Postal Code:</label>
                            <input type="text" id="billingPostal" required>
                        </div>
                        <div class="form-group">
                            <label for="billingCountry">Country:</label>
                            <input type="text" id="billingCountry" required>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label for="paymentMethod">Payment Method:</label>
                    <select id="paymentMethod" required>
                        <option value="">Select Payment Method</option>
                        <option value="credit_card">Credit Card</option>
                        <option value="debit_card">Debit Card</option>
                        <option value="paypal">PayPal</option>
                        <option value="cash_on_delivery">Cash on Delivery</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="orderNotes">Notes:</label>
                    <textarea id="orderNotes" placeholder="Optional notes..."></textarea>
                </div>

                <div class="order-total">
                    <h3>Total: €<span id="orderTotal">0.00</span></h3>
                </div>

                <button type="submit" class="btn btn-primary">Create Order</button>
            </form>
        </div>
    </div>

    <!-- Review Modal -->
    <div id="reviewModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeReviewModal()">&times;</span>
            <h2 id="reviewModalTitle">Add Review</h2>
            <form id="reviewForm">
                <input type="hidden" id="reviewId">
                <div class="form-group">
                    <label for="reviewProduct">Product:</label>
                    <select id="reviewProduct" required>
                        <option value="">Select Product</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="reviewRating">Rating:</label>
                    <div class="rating-input">
                        <input type="radio" id="star5" name="reviewRating" value="5">
                        <label for="star5">⭐⭐⭐⭐⭐</label>
                        <input type="radio" id="star4" name="reviewRating" value="4">
                        <label for="star4">⭐⭐⭐⭐</label>
                        <input type="radio" id="star3" name="reviewRating" value="3">
                        <label for="star3">⭐⭐⭐</label>
                        <input type="radio" id="star2" name="reviewRating" value="2">
                        <label for="star2">⭐⭐</label>
                        <input type="radio" id="star1" name="reviewRating" value="1">
                        <label for="star1">⭐</label>
                    </div>
                </div>
                <div class="form-group">
                    <label for="reviewTitle">Title:</label>
                    <input type="text" id="reviewTitle" maxlength="100" required>
                </div>
                <div class="form-group">
                    <label for="reviewComment">Comment:</label>
                    <textarea id="reviewComment" maxlength="1000" required></textarea>
                </div>
                <div class="form-group">
                    <label for="reviewImages">Images (optional):</label>
                    <input type="file" id="reviewImages" multiple accept="image/*">
                </div>
                <button type="submit" class="btn btn-primary">Save Review</button>
            </form>
        </div>
    </div>

    <!-- Checkout Modal -->
    <div id="checkoutModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeCheckoutModal()">&times;</span>
            <h2>Checkout</h2>
            <form id="checkoutForm">
                <h3>Shipping Address</h3>
                <div class="form-row">
                    <div class="form-group">
                        <label for="checkoutShippingStreet">Street:</label>
                        <input type="text" id="checkoutShippingStreet" required>
                    </div>
                    <div class="form-group">
                        <label for="checkoutShippingCity">City:</label>
                        <input type="text" id="checkoutShippingCity" required>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="checkoutShippingPostal">Postal Code:</label>
                        <input type="text" id="checkoutShippingPostal" required>
                    </div>
                    <div class="form-group">
                        <label for="checkoutShippingCountry">Country:</label>
                        <input type="text" id="checkoutShippingCountry" required>
                    </div>
                </div>

                <h3>Billing Address</h3>
                <label>
                    <input type="checkbox" id="checkoutSameAsShipping" onchange="toggleCheckoutBillingAddress()">
                    Same as shipping address
                </label>
                <div id="checkoutBillingAddressFields">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="checkoutBillingStreet">Street:</label>
                            <input type="text" id="checkoutBillingStreet" required>
                        </div>
                        <div class="form-group">
                            <label for="checkoutBillingCity">City:</label>
                            <input type="text" id="checkoutBillingCity" required>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="checkoutBillingPostal">Postal Code:</label>
                            <input type="text" id="checkoutBillingPostal" required>
                        </div>
                        <div class="form-group">
                            <label for="checkoutBillingCountry">Country:</label>
                            <input type="text" id="checkoutBillingCountry" required>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label for="checkoutPaymentMethod">Payment Method:</label>
                    <select id="checkoutPaymentMethod" required>
                        <option value="">Select Payment Method</option>
                        <option value="credit_card">Credit Card</option>
                        <option value="debit_card">Debit Card</option>
                        <option value="paypal">PayPal</option>
                        <option value="cash_on_delivery">Cash on Delivery</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="checkoutNotes">Notes:</label>
                    <textarea id="checkoutNotes" placeholder="Optional notes..."></textarea>
                </div>

                <div class="checkout-summary">
                    <h3>Order Summary</h3>
                    <div id="checkoutItems"></div>
                    <div class="checkout-total">
                        <strong>Total: €<span id="checkoutTotal">0.00</span></strong>
                    </div>
                </div>

                <button type="submit" class="btn btn-primary btn-large">Place Order</button>
            </form>
        </div>
    </div>

    <!-- Loading spinner -->
    <div id="loadingSpinner" class="loading" style="display: none;">
        <i class="fas fa-spinner fa-spin"></i>
    </div>

    <script src="script.js"></script>
</body>
</html>